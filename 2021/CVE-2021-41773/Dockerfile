#FROM debian:bookworm
#docker pull httpd:2.4.49-alpine
FROM httpd:2.4.49-alpine

#RUN apt update -y
#RUN apt install -y apache2=2.4.49-4
#RUN apt install -y apache2=2.4.2

#ADD entry.sh /entry.sh
ADD 000-default.conf /etc/apache2/sites-enabled/000-default.conf

#RUN chmod 755 /entry.sh && chown -R www-data:www-data /var/www/html && mkdir /var/run/apache2 && a2enmod cgi
#RUN chmod 755 /entry.sh && chown -R www-data:www-data /usr/local/apache2/htdocs/ && mkdir /var/run/apache2
RUN chown -R www-data:www-data /usr/local/apache2/htdocs/

#creating a folder CTF2021 inside /home directory
RUN cd /home && mkdir CTF2021

COPY index.html /usr/local/apache2/htdocs/
COPY /challenge1 /usr/local/apache2/htdocs/
COPY FLAG.txt /home/CTF2021/

#ENTRYPOINT ["/entry.sh"]
